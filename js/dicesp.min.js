function roleghuti() {
    let res = 0;
    let arr = [];
    for (let i = 0; i < 4; i++) {
        let ghuti = Math.floor(Math.random() * 2);
        arr.push(ghuti);
        res += ghuti;
    }
    shuffle(arr);
    /*
    socket.emit('diceupdate', {
        'gid': gameId,
        'arr': arr,
        'ply': playerid
    });
    */
    for (let i = 0; i < 4; i++) {
        drawdice(arr[i], i, "dice" + i);
    }
    if (res == 0) res = 8;
    if (tut) swal(res + ' ', "your score in this turn");
    currentscore = res;
}

function shuffle(arr) {
    arr.sort(() => Math.random() - 0.5);
}

function drawdicestart() {
    for (let i = 0; i < 4; i++) drawdice(0, i, "dice" + i);
}

function drawanimedicestart() {
    for (let i = 0; i < 4; i++) {
        drawdice(0, i, "animedice" + i);
        roleanimation("dice" + i, "animedice" + i);
    }
}

function drawdice(ghuti, i, id) {
    let used = H + 10 + 50;
    let posx = TW * 0.50,
        posy = used;
    if (i == 0) {
        posx -= (dicesize + 3);
        posy -= (dicesize + 3);
    } else if (i == 1) {
        posx += 3;
        posy -= (dicesize + 3);
    } else if (i == 2) {
        posx -= (dicesize + 3);
        posy += 3;
    } else if (i == 3) {
        posx += 3;
        posy += 3;
    }
    posy = posy - H + dicesize + footerheight + 10;
    if (ghuti) {
        let circle = documentelemId[id];
        if (circle) {
            circle.style.top = posy + "px";
            circle.style.left = posx + "px";
            circle.style.background = "aliceblue";
        }
    } else {
        let circle = documentelemId[id];
        if (circle) {
            circle.style.top = posy + "px";
            circle.style.left = posx + "px";
            circle.style.background = "black";
        }
    }
}

function showdice() {
    documentelemId["dice0"].style.display = "flex";
    documentelemId["animedice0"].style.display = "None";
    documentelemId["dice1"].style.display = "flex";
    documentelemId["animedice1"].style.display = "None";
    documentelemId["dice2"].style.display = "flex";
    documentelemId["animedice2"].style.display = "None";
    documentelemId["dice3"].style.display = "flex";
    documentelemId["animedice3"].style.display = "None";
}

function hidedice() {
    documentelemId["dice0"].style.display = "None";
    documentelemId["animedice0"].style.display = "flex";
    documentelemId["dice1"].style.display = "None";
    documentelemId["animedice1"].style.display = "flex";
    documentelemId["dice2"].style.display = "None";
    documentelemId["animedice2"].style.display = "flex";
    documentelemId["dice3"].style.display = "None";
    documentelemId["animedice3"].style.display = "flex";
}